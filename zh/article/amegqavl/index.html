<!doctype html><html lang="zh-CN"><head><meta charset="utf-8" /><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="generator" content="VuePress 2.0.0-rc.18" /><meta name="theme" content="VuePress Theme Plume " /><script id="check-mac-os">document.documentElement.classList.toggle('mac', /Mac|iPhone|iPod|iPad/i.test(navigator.platform))</script><script id="check-dark-mode">;(function () {const um= localStorage.getItem('vuepress-theme-appearance') || 'auto';const sm = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;const isDark = um === 'dark' || (um !== 'light' && sm);document.documentElement.dataset.theme = isDark ? 'dark' : 'light';})();</script><link rel="alternate" hreflang="en-us" href="https://next.yearning.io/article/amegqavl/"><meta property="og:url" content="https://next.yearning.io/zh/article/amegqavl/"><meta property="og:site_name" content="Yearning Guide"><meta property="og:title" content="更新日志"><meta property="og:description" content="2024-11-01 Yearning 3.1.9 优化了AI助手的流式消息回复格式 修复了创建数据源时列表不刷新的问题 修复了 bigint 类型数据精度丢失的问题 #1104 修复了不支持 SSL 连接执行 SQL 的问题 #1120 新增 DMLWhereExprValueIsNull 审核参数：检查 DML 语句的 where 条件值是否为 n..."><meta property="og:type" content="article"><meta property="og:locale" content="zh-CN"><meta property="og:locale:alternate" content="en-US"><meta property="og:updated_time" content="2024-11-04T14:12:55.000Z"><meta property="article:modified_time" content="2024-11-04T14:12:55.000Z"><script type="application/ld+json">{"@context":"https://schema.org","@type":"Article","headline":"更新日志","image":[""],"dateModified":"2024-11-04T14:12:55.000Z","author":[]}</script><link rel="icon" href="/images/favicon.png"><title>更新日志 | Yearning Guide</title><meta name="description" content="2024-11-01 Yearning 3.1.9 优化了AI助手的流式消息回复格式 修复了创建数据源时列表不刷新的问题 修复了 bigint 类型数据精度丢失的问题 #1104 修复了不支持 SSL 连接执行 SQL 的问题 #1120 新增 DMLWhereExprValueIsNull 审核参数：检查 DML 语句的 where 条件值是否为 n..."><link rel="preload" href="/assets/style-HbG6O8HD.css" as="style"><link rel="stylesheet" href="/assets/style-HbG6O8HD.css"><link rel="modulepreload" href="/assets/app-B_p-YCDi.js"><link rel="modulepreload" href="/assets/index.html-BG_i4y9O.js"><link rel="prefetch" href="/assets/index.html-B2Jp7F57.js" as="script"><link rel="prefetch" href="/assets/index.html-N4-TdyMz.js" as="script"><link rel="prefetch" href="/assets/index.html-BF8ymZJu.js" as="script"><link rel="prefetch" href="/assets/index.html-DoUIFcJ5.js" as="script"><link rel="prefetch" href="/assets/index.html-2rN0MY0a.js" as="script"><link rel="prefetch" href="/assets/index.html-BPjLJ-Ia.js" as="script"><link rel="prefetch" href="/assets/index.html-C82JZWrJ.js" as="script"><link rel="prefetch" href="/assets/index.html-Bu0KGdwW.js" as="script"><link rel="prefetch" href="/assets/index.html-BsHrjwNa.js" as="script"><link rel="prefetch" href="/assets/index.html-BpjpZYzq.js" as="script"><link rel="prefetch" href="/assets/index.html-DEMX4gy0.js" as="script"><link rel="prefetch" href="/assets/index.html-Cy1lsif6.js" as="script"><link rel="prefetch" href="/assets/index.html-1NQ6litm.js" as="script"><link rel="prefetch" href="/assets/index.html-D5FZuuLY.js" as="script"><link rel="prefetch" href="/assets/index.html-NGaHcCgn.js" as="script"><link rel="prefetch" href="/assets/index.html-BJn_sdb1.js" as="script"><link rel="prefetch" href="/assets/index.html-CxAsPvHE.js" as="script"><link rel="prefetch" href="/assets/index.html-D9AhoAHt.js" as="script"><link rel="prefetch" href="/assets/index.html-CuGLE77m.js" as="script"><link rel="prefetch" href="/assets/index.html-Cbt26G84.js" as="script"><link rel="prefetch" href="/assets/index.html-C2Iw4h7v.js" as="script"><link rel="prefetch" href="/assets/index.html-Bvj88T4Q.js" as="script"><link rel="prefetch" href="/assets/index.html-vI8Fvved.js" as="script"><link rel="prefetch" href="/assets/index.html-B97XwUyA.js" as="script"><link rel="prefetch" href="/assets/index.html-CTs0_3DR.js" as="script"><link rel="prefetch" href="/assets/index.html-CmJ1etfr.js" as="script"><link rel="prefetch" href="/assets/index.html-DBSAYUbD.js" as="script"><link rel="prefetch" href="/assets/index.html-DNwOdjPb.js" as="script"><link rel="prefetch" href="/assets/index.html-DQCkkdeQ.js" as="script"><link rel="prefetch" href="/assets/index.html-B8cG6LiR.js" as="script"><link rel="prefetch" href="/assets/index.html-Bd3h0Wig.js" as="script"><link rel="prefetch" href="/assets/index.html-C0seXo8E.js" as="script"><link rel="prefetch" href="/assets/index.html-BDR1MXnO.js" as="script"><link rel="prefetch" href="/assets/index.html-BD_hcEE6.js" as="script"><link rel="prefetch" href="/assets/index.html-BnPf2ure.js" as="script"><link rel="prefetch" href="/assets/index.html-BMSEJIsP.js" as="script"><link rel="prefetch" href="/assets/index.html-DrFMIWN3.js" as="script"><link rel="prefetch" href="/assets/index.html-AqpVBWGM.js" as="script"><link rel="prefetch" href="/assets/index.html-BowQFeTQ.js" as="script"><link rel="prefetch" href="/assets/index.html-BCepDHC6.js" as="script"><link rel="prefetch" href="/assets/index.html-DXtYAhTm.js" as="script"><link rel="prefetch" href="/assets/index.html-DoxSLT0M.js" as="script"><link rel="prefetch" href="/assets/index.html-D7WDo_9S.js" as="script"><link rel="prefetch" href="/assets/index.html-IVFRA7kg.js" as="script"><link rel="prefetch" href="/assets/index.html-DKTZ1wyu.js" as="script"><link rel="prefetch" href="/assets/index.html-LRxF-GVw.js" as="script"><link rel="prefetch" href="/assets/index.html-B__6xzyr.js" as="script"><link rel="prefetch" href="/assets/index.html-Bvk6KfSc.js" as="script"><link rel="prefetch" href="/assets/index.html-DjZUVdqy.js" as="script"><link rel="prefetch" href="/assets/index.html-DzYK-kt4.js" as="script"><link rel="prefetch" href="/assets/index.html-C_rypCkL.js" as="script"><link rel="prefetch" href="/assets/index.html-W_2QydeO.js" as="script"><link rel="prefetch" href="/assets/index.html-DF4adizV.js" as="script"><link rel="prefetch" href="/assets/index.html-DecA6rwm.js" as="script"><link rel="prefetch" href="/assets/index.html-DJd_WH64.js" as="script"><link rel="prefetch" href="/assets/index.html-D69VA9_R.js" as="script"><link rel="prefetch" href="/assets/index.html-DrMOLKFh.js" as="script"><link rel="prefetch" href="/assets/index.html-DtidZ_9L.js" as="script"><link rel="prefetch" href="/assets/index.html-ckvkPIo6.js" as="script"><link rel="prefetch" href="/assets/index.html-f0kaL5GI.js" as="script"><link rel="prefetch" href="/assets/index.html-CNe3Sgtc.js" as="script"><link rel="prefetch" href="/assets/index.html-CCzWGdjs.js" as="script"><link rel="prefetch" href="/assets/index.html-By4M0zBq.js" as="script"><link rel="prefetch" href="/assets/404.html-DLD-40wO.js" as="script"><link rel="prefetch" href="/assets/index.html-CM-85-0q.js" as="script"><link rel="prefetch" href="/assets/index.html-y1GxkAjd.js" as="script"><link rel="prefetch" href="/assets/index.html-CWEODa6h.js" as="script"><link rel="prefetch" href="/assets/index.html-eGbmwZm5.js" as="script"><link rel="prefetch" href="/assets/index.html-DwgL0gax.js" as="script"><link rel="prefetch" href="/assets/index.html-yylZPDvK.js" as="script"><link rel="prefetch" href="/assets/index.html-D6gME9kv.js" as="script"><link rel="prefetch" href="/assets/index.html-D6p0GrRq.js" as="script"><link rel="prefetch" href="/assets/photoswipe.esm-GXRgw7eJ.js" as="script"><link rel="prefetch" href="/assets/searchBox-default-DLiOvrLY.js" as="script"><link rel="prefetch" href="/assets/searchBox-zh-BgqLX0A1.js" as="script"><link rel="prefetch" href="/assets/SearchBox-DlgrFpoc.js" as="script"><link rel="prefetch" href="/assets/giscus-BZxmVUME.js" as="script"><link rel="prefetch" href="/assets/setupDevtools-7MC2TMWH-CEHHJUHj.js" as="script"></head><body><div id="app"><!--[--><!--[--><div class="theme-plume vp-layout" vp-container data-v-4c24f48c><!--[--><!--[--><!--]--><!--[--><span tabindex="-1" data-v-6be08cc1></span><a href="#VPContent" class="vp-skip-link visually-hidden" data-v-6be08cc1> Skip to content </a><!--]--><!----><header class="vp-nav" data-v-4c24f48c data-v-a170e13d><div class="vp-navbar" vp-navbar data-v-a170e13d data-v-7bb23065><div class="wrapper" data-v-7bb23065><div class="container" data-v-7bb23065><div class="title" data-v-7bb23065><div class="vp-navbar-title" data-v-7bb23065 data-v-a0fb94e5><a class="vp-link no-icon link title" href="/zh/" data-v-a0fb94e5 data-v-015bc41e><!--[--><!--[--><!--]--><!--[--><!--[--><!--[--><img class="vp-image dark logo" src="/images/icon.png" alt data-v-fbac5325><!--]--><!--[--><img class="vp-image light logo" src="/images/icon.png" alt data-v-fbac5325><!--]--><!--]--><!--]--><span data-v-a0fb94e5>Yearning Guide</span><!--[--><!--]--><!--]--><!----></a></div></div><div class="content" data-v-7bb23065><div class="content-body" data-v-7bb23065><!--[--><!--]--><div class="vp-navbar-search search" data-v-7bb23065><div class="search-wrapper" data-v-4ccff929><!----><div id="local-search" data-v-4ccff929><button type="button" class="mini-search mini-search-button" aria-label="搜索文档" data-v-4ccff929><span class="mini-search-button-container"><svg class="mini-search-search-icon" width="20" height="20" viewBox="0 0 20 20" aria-label="search icon"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="mini-search-button-placeholder">搜索文档</span></span><span class="mini-search-button-keys"><kbd class="mini-search-button-key"></kbd><kbd class="mini-search-button-key">K</kbd></span></button></div></div></div><nav aria-labelledby="main-nav-aria-label" class="vp-navbar-menu menu" data-v-7bb23065 data-v-bfec0b27><span id="main-nav-aria-label" class="visually-hidden" data-v-bfec0b27>Main Navigation</span><!--[--><!--[--><a class="vp-link no-icon link navbar-menu-link" href="/zh/usage/ptbzchak/" tabindex="0" data-v-bfec0b27 data-v-24d262e0 data-v-015bc41e><!--[--><!----><span data-v-24d262e0>开始上手</span><!--]--><!----></a><!--]--><!--[--><a class="vp-link no-icon link navbar-menu-link" href="/zh/article/hhwzf80y/" tabindex="0" data-v-bfec0b27 data-v-24d262e0 data-v-015bc41e><!--[--><!----><span data-v-24d262e0>常见问题</span><!--]--><!----></a><!--]--><!--[--><a class="vp-link no-icon link navbar-menu-link" href="/zh/development/u13ykizb/" tabindex="0" data-v-bfec0b27 data-v-24d262e0 data-v-015bc41e><!--[--><!----><span data-v-24d262e0>开发</span><!--]--><!----></a><!--]--><!--[--><a class="vp-link no-icon link navbar-menu-link active" href="/zh/article/amegqavl/" tabindex="0" data-v-bfec0b27 data-v-24d262e0 data-v-015bc41e><!--[--><!----><span data-v-24d262e0>更新</span><!--]--><!----></a><!--]--><!--[--><a class="vp-link no-icon link navbar-menu-link" href="/zh/about/rtm9eg85/" tabindex="0" data-v-bfec0b27 data-v-24d262e0 data-v-015bc41e><!--[--><!----><span data-v-24d262e0>关于</span><!--]--><!----></a><!--]--><!--]--></nav><div class="vp-flyout vp-navbar-translations translations" data-v-7bb23065 data-v-5805af7c data-v-eb9ccc67><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="选择语言" data-v-eb9ccc67><span class="text" data-v-eb9ccc67><!----><span class="vpi-languages option-icon" data-v-eb9ccc67></span><!----><span class="vpi-chevron-down text-icon" data-v-eb9ccc67></span></span></button><div class="menu" data-v-eb9ccc67><div class="vp-menu" data-v-eb9ccc67 data-v-6cb4e551><!----><!--[--><!--[--><div class="items" data-v-5805af7c><p class="title" data-v-5805af7c>简体中文</p><!--[--><div class="vp-menu-link" data-v-5805af7c data-v-dcc90f8b><a class="vp-link no-icon link" href="/article/amegqavl/" data-v-dcc90f8b data-v-015bc41e><!--[--><!----> English<!--]--><!----></a></div><!--]--></div><!--]--><!--]--></div></div></div><div class="vp-navbar-appearance appearance" data-v-7bb23065 data-v-0e523fab><button class="vp-switch vp-switch-appearance" type="button" role="switch" title aria-checked="false" data-v-0e523fab data-v-b27a8608 data-v-5f7dceaf><span class="check" data-v-5f7dceaf><span class="icon" data-v-5f7dceaf><!--[--><span class="vpi-sun sun" data-v-b27a8608></span><span class="vpi-moon moon" data-v-b27a8608></span><!--]--></span></span></button></div><div class="vp-social-links vp-navbar-social-links social-links" data-v-7bb23065 data-v-e23ef01d data-v-7dcf5af7><!--[--><a class="vp-social-link no-icon" href="https://github.com/cookieY/Yearning" aria-label="github" target="_blank" rel="noopener" data-v-7dcf5af7 data-v-f7b0b010><span class="vpi-social-github" /></a><!--]--></div><div class="vp-flyout vp-navbar-extra extra" data-v-7bb23065 data-v-453a0a39 data-v-eb9ccc67><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-eb9ccc67><span class="vpi-more-horizontal icon" data-v-eb9ccc67></span></button><div class="menu" data-v-eb9ccc67><div class="vp-menu" data-v-eb9ccc67 data-v-6cb4e551><!----><!--[--><!--[--><div class="group translations" data-v-453a0a39><p class="trans-title" data-v-453a0a39>简体中文</p><!--[--><div class="vp-menu-link" data-v-453a0a39 data-v-dcc90f8b><a class="vp-link no-icon link" href="/article/amegqavl/" data-v-dcc90f8b data-v-015bc41e><!--[--><!----> English<!--]--><!----></a></div><!--]--></div><div class="group" data-v-453a0a39><div class="item appearance" data-v-453a0a39><p class="label" data-v-453a0a39>外观</p><div class="appearance-action" data-v-453a0a39><button class="vp-switch vp-switch-appearance" type="button" role="switch" title aria-checked="false" data-v-453a0a39 data-v-b27a8608 data-v-5f7dceaf><span class="check" data-v-5f7dceaf><span class="icon" data-v-5f7dceaf><!--[--><span class="vpi-sun sun" data-v-b27a8608></span><span class="vpi-moon moon" data-v-b27a8608></span><!--]--></span></span></button></div></div></div><div class="group" data-v-453a0a39><div class="item social-links" data-v-453a0a39><div class="vp-social-links social-links-list" data-v-453a0a39 data-v-7dcf5af7><!--[--><a class="vp-social-link no-icon" href="https://github.com/cookieY/Yearning" aria-label="github" target="_blank" rel="noopener" data-v-7dcf5af7 data-v-f7b0b010><span class="vpi-social-github" /></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="vp-navbar-hamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="nav-screen" data-v-7bb23065 data-v-3d4ebeb4><span class="container" data-v-3d4ebeb4><span class="top" data-v-3d4ebeb4></span><span class="middle" data-v-3d4ebeb4></span><span class="bottom" data-v-3d4ebeb4></span></span></button></div></div></div></div><div class="divider" data-v-7bb23065><div class="divider-line" data-v-7bb23065></div></div></div><!----></header><!----><!----><!--[--><div id="VPContent" vp-content class="vp-content" data-v-4c24f48c data-v-fad3d666><div class="has-aside vp-doc-container" data-v-66c1850e><!--[--><!--]--><div class="container" data-v-66c1850e><div class="aside" vp-outline data-v-66c1850e><div class="aside-curtain" data-v-66c1850e></div><div class="aside-container" data-v-66c1850e><div class="aside-content" data-v-66c1850e><div class="vp-doc-aside" data-v-66c1850e data-v-0efd906a><!--[--><!--]--><!--[--><!--]--><nav aria-labelledby="doc-outline-aria-label" class="vp-doc-aside-outline" role="navigation" data-v-0efd906a data-v-7e9be25c><div class="content" data-v-7e9be25c><div class="outline-marker" data-v-7e9be25c></div><div id="doc-outline-aria-label" aria-level="2" class="outline-title" role="heading" data-v-7e9be25c><span data-v-7e9be25c>此页内容</span><span class="vpi-print icon" data-v-7e9be25c></span></div><ul class="root" data-v-7e9be25c data-v-1e03344b><!--[--><!--]--></ul></div></nav><!--[--><!--]--><div class="spacer" data-v-0efd906a></div><!--[--><!--]--></div></div></div></div><div class="content" data-v-66c1850e><div class="content-container" data-v-66c1850e><!--[--><!--]--><main class="main" data-v-66c1850e><!----><!--[--><h1 class="vp-doc-title page-title" data-v-fc8190ea>更新日志 <!----></h1><div class="vp-doc-meta" data-v-fc8190ea><p class="reading-time" data-v-fc8190ea><span class="vpi-books icon" data-v-fc8190ea></span><span data-v-fc8190ea>4020字</span><span data-v-fc8190ea>约13分钟</span></p><!----><p class="create-time" data-v-fc8190ea><span class="vpi-clock icon" data-v-fc8190ea></span><span data-v-fc8190ea>2024-11-04</span></p></div><!--]--><div class="vp-doc plume-content _zh_article_amegqavl_ external-link-icon-enabled" vp-content data-v-66c1850e><h2 id="_2024-11-01-yearning-3-1-9" tabindex="-1"><a class="header-anchor" href="#_2024-11-01-yearning-3-1-9"><span>2024-11-01 Yearning 3.1.9</span></a></h2><ul><li>优化了AI助手的流式消息回复格式</li><li>修复了创建数据源时列表不刷新的问题</li><li>修复了 bigint 类型数据精度丢失的问题 #1104</li><li>修复了不支持 SSL 连接执行 SQL 的问题 #1120</li><li>新增 DMLWhereExprValueIsNull 审核参数：检查 DML 语句的 where 条件值是否为 null</li><li>新增审核按钮 #1032</li></ul><h2 id="_2024-07-27-yearning-3-1-8" tabindex="-1"><a class="header-anchor" href="#_2024-07-27-yearning-3-1-8"><span>2024-07-27 Yearning 3.1.8</span></a></h2><ul><li>新增审核按钮防抖，修复审核按钮多次点击导致数据异常的问题</li><li>新增智能助手功能</li><li>新增 SQL语句AI优化，AI 文本生成SQL功能</li><li>新增查询菜单查看表结构的功能 #1057</li><li>新增 MFA认证(赞助版)</li><li>修复 datetime 类型字段检测时可能出现错误异常显示的问题 #1039</li><li>修复查询审核时可以重复提交的问题 #1024</li><li>修复审计人全限制默认显示异常的问题 #991</li><li>更新依赖项,修复安全漏洞</li><li>更新 dockerFile 镜像，修复无法通过环境变量更改语言设置的问题</li></ul><h2 id="_2024-01-02-yearning-3-1-7" tabindex="-1"><a class="header-anchor" href="#_2024-01-02-yearning-3-1-7"><span>2024-01-02 Yearning 3.1.7</span></a></h2><ul><li>修复流程变更后，完成状态工单异常报错导致无法显示信息的问题</li><li>工单搜索新增 终止,撤销，待执行 搜索条件</li></ul><h2 id="_2023-09-08-yearning-3-1-6-3" tabindex="-1"><a class="header-anchor" href="#_2023-09-08-yearning-3-1-6-3"><span>2023-09-08 Yearning 3.1.6.3</span></a></h2><ul><li>修复: 关闭 #901 修复查询一张不存在的表名或者执行一个dml都会让查询页面卡死无法退出</li><li>其他优化</li></ul><h2 id="_2023-08-10-yearning-3-1-6-2" tabindex="-1"><a class="header-anchor" href="#_2023-08-10-yearning-3-1-6-2"><span>2023-08-10 Yearning 3.1.6.2</span></a></h2><ul><li>功能: 关闭 #832 支持自定义审核规则，允许对单一数据源设置审核规则</li><li>功能: 支持多语言,通过config,toml配置文件中指定前后端语言，当前支持中文/英文</li><li>修复: 关闭 #848 修复查询等待时loading标识不显示的问题</li><li>优化: 关闭 #840 优化首页每日工单数显示异常的问题</li><li>优化: 关闭 #790 工单审核页面新增数据源列显示</li><li>优化: 关闭#703 支持定时任务更改执行时间/立即执行/终止执行</li><li>优化: 工单列表排序规则更改为审核中且时间远近进行排序</li><li>优化: 支持DML数据以事务模式执行，请在审核规则内搜索DMLTransaction选项并启用该功能</li><li>优化: 关闭 #795 查询关键字提醒(表名,字段名)限定为当前数据库，当选择数据库时将会获取该数据库的表名字段名</li><li>优化: 查询结果支持点击后复制单元格内容</li><li>优化: 域名地址指定不再通过-s 进行指定更改为通过设置页面进行指定，钉钉卡片支持url跳转</li><li>其他优化</li></ul><h2 id="_2023-07-04-yearning-3-1-5" tabindex="-1"><a class="header-anchor" href="#_2023-07-04-yearning-3-1-5"><span>2023-07-04 Yearning 3.1.5</span></a></h2><ul><li>审核详情页面布局优化</li><li>审核按钮布局优化 #829 #825 #802</li><li>修复审核查询时间范围条件格式化异常的问题</li><li>修复添加datetime类型字段默认值为0000-00-00 00:00:00 报错异常的问题 #823</li><li>修复查询负责人更改后依然可以审核查询工单的问题</li></ul><h2 id="_2023-04-24-yearning-3-1-4" tabindex="-1"><a class="header-anchor" href="#_2023-04-24-yearning-3-1-4"><span>2023-04-24 Yearning 3.1.4</span></a></h2><ul><li>工单/查询工单列表不再采用轮训方式实时获取数据，改用ws</li><li>工单/查询详情采用卡片抽屉式进行展示</li><li>修复google浏览器执行查询语句语句时，如果查询结果的列过多，会导致整个浏览器被撑大的问题 #789</li><li>新增对ARMv64的支持</li></ul><h2 id="_2023-03-09-yearning-3-1-3" tabindex="-1"><a class="header-anchor" href="#_2023-03-09-yearning-3-1-3"><span>2023-03-09 Yearning 3.1.3</span></a></h2><ul><li>修复gh-ost无法执行的问题</li><li>修复工单列表刷新异常的问题</li><li>修复dml语句未备份执行时 执行信息无法展示的问题</li></ul><h2 id="_2023-02-10-yearning-3-1-2-2" tabindex="-1"><a class="header-anchor" href="#_2023-02-10-yearning-3-1-2-2"><span>2023-02-10 Yearning 3.1.2.2</span></a></h2><ul><li>修复firefox浏览器头部样式遮挡问题 #637</li><li>修复insert语句审核异常的问题 #760 #759 #755</li></ul><h2 id="_2023-02-01-yearning-3-1-2-1" tabindex="-1"><a class="header-anchor" href="#_2023-02-01-yearning-3-1-2-1"><span>2023-02-01 Yearning 3.1.2.1</span></a></h2><ul><li>修复查询审核工单提交后工单异常的问题</li><li>修复公告栏数据无法保存的问题</li><li>修复用户创建密码验证文案显示错误的问题</li><li>修复枚举类审核异常的问题</li><li>修复语法检测timestamp类型字段的默认值为字符串时依然通过</li><li>修复审核insert into 语句列数与值列表不匹配审核异常的问题</li><li>支持 drop table if exists语句</li><li>支持数据源SSL连接</li></ul><h2 id="_2022-11-14-yearning-3-1-1-1" tabindex="-1"><a class="header-anchor" href="#_2022-11-14-yearning-3-1-1-1"><span>2022-11-14 Yearning 3.1.1.1</span></a></h2><ul><li>解决回滚语句升序导致的依赖语句执行错误问题(更改为降序)</li><li>调整提交防抖逻辑 规避重复提交问题</li><li>修复工单时间查询失效的问题</li><li>修复表字符集更改回滚语句异常的问题</li><li>修复SQL语句为空时依然可以提交的问题</li><li>对列表页使用前端缓存</li><li>修复枚举类审核异常的问题</li><li>修复执行时间未展示的问题</li><li>修复create table 回滚语句生成单独索引语句导致无法回滚的问题</li><li>修复安装初始化时admin赋权语句错误的问题</li></ul><h2 id="_2022-09-15-yearning-3-1-0" tabindex="-1"><a class="header-anchor" href="#_2022-09-15-yearning-3-1-0"><span>2022-09-15 Yearning 3.1.0</span></a></h2><ul><li>修复SQL检测/执行完毕后连接不释放的问题</li><li>修复审核人如果没有数据源权限无法审核的问题</li></ul><h2 id="_2022-09-01-yearning-3-0-9" tabindex="-1"><a class="header-anchor" href="#_2022-09-01-yearning-3-0-9"><span>2022-09-01 Yearning 3.0.9</span></a></h2><ul><li>优化大批量SQL导致审核列表卡死的问题</li><li>优化白色主题布局</li><li>修复SSL非465端口邮件无法发送的问题</li></ul><h2 id="_2022-08-18-yearning-3-0-8" tabindex="-1"><a class="header-anchor" href="#_2022-08-18-yearning-3-0-8"><span>2022-08-18 Yearning 3.0.8</span></a></h2><ul><li>添加i18n 英语支持(目前仅对前端内容)</li><li>修复推送消息没有工单说明及标题错误的问题(针对&gt;= 3.0.5版本)</li><li>修复查询时库名中带有特殊符号导致无法切库的问题 #661</li><li>优化迁移脚本体验(针对2.3.5版本迁移至3.x版本)</li></ul><h2 id="_2022-08-18-yearning-3-0-7" tabindex="-1"><a class="header-anchor" href="#_2022-08-18-yearning-3-0-7"><span>2022-08-18 Yearning 3.0.7</span></a></h2><ul><li>修复测试消息推送不发送的问题</li><li>修复工单时间字段查询控制台报错的问题</li><li>修复工单重复提交异常的问题</li><li>修复查询导出xls列顺序混乱的问题</li><li>优化查询显示结果</li><li>优化工单详情进度信息样式</li><li>优化容器部署支持秘钥自定义</li><li>优化OIDC登录逻辑</li></ul><h2 id="_2022-08-11-yearning-3-0-6" tabindex="-1"><a class="header-anchor" href="#_2022-08-11-yearning-3-0-6"><span>2022-08-11 Yearning 3.0.6</span></a></h2><ul><li>完善ws查询断线重连逻辑</li><li>修复查询结果tab页显示异常的问题</li><li>修复3.0.5版本消息推送格式异常的问题</li><li>修复某些查询写法导致字段脱敏逃逸的问题</li></ul><h2 id="_2022-08-06-yearning-3-0-5" tabindex="-1"><a class="header-anchor" href="#_2022-08-06-yearning-3-0-5"><span>2022-08-06 Yearning 3.0.5</span></a></h2><ul><li>修复DDL语句提交超过10条卡死的问题</li><li>修复enum类型检测时长度报错的问题</li><li>修复工单/查询在进行测试/查询操作时的安全问题</li><li>新增查询省略显示</li><li>优化查询逻辑,提高单一连接利用率。</li><li>修复自动联想多窗口时重复提示的问题</li></ul><h2 id="_2022-07-23-yearning-3-0-4" tabindex="-1"><a class="header-anchor" href="#_2022-07-23-yearning-3-0-4"><span>2022-07-23 Yearning 3.0.4</span></a></h2><ul><li>修复工单无法撤销的问题</li><li>修复首页文案错误</li><li>修复工单申请搜索异常的问题</li><li>修复语句执行失败文档异常的问题</li><li>修复工单无法生成回滚语句的问题</li><li>修复初始化缺少表结构的问题</li></ul><h2 id="_2022-07-19-yearning-3-0-3" tabindex="-1"><a class="header-anchor" href="#_2022-07-19-yearning-3-0-3"><span>2022-07-19 Yearning 3.0.3</span></a></h2><ul><li>修复数据清除无法使用的问题</li><li>修复字段长度不足导致无法提交工单的问题</li><li>修复查询联想数据过大导致浏览器SessionStorage配额超限的问题</li><li>修复回滚语句为空时依然能够提交回滚语句的问题</li><li>修复DDL语句 AUTO_INCREMENT审核报错的问题</li><li>修复用户无法添加的问题</li><li>修复查询数据源切换后不同源相同数据库名无法展开的问题</li><li>修复关键词检查异常的问题</li><li>修复docker安装时异常panic的问题 #610</li><li>修复datetime(3)类型不能正常插入精确到毫秒的时间值 #616</li><li>修复SQL检测时，不能drop联合索引，自增列主键不得删除 #612</li><li>支持DRDS2.0</li><li>审核详情页新增工单说明展示</li><li>添加 检测/美化按钮提示</li><li>gorm版本升级为v2版本</li><li>代码组织优化，开发环境升级为go1.18版本</li></ul><h2 id="_2022-06-20-yearning-3-0-1" tabindex="-1"><a class="header-anchor" href="#_2022-06-20-yearning-3-0-1"><span>2022-06-20 Yearning 3.0.1</span></a></h2><ul><li>添加用户撤销工单功能</li><li>添加切换查询数据源功能</li><li>查询增加用户自行结束会话功能</li><li>优化查询审核逻辑,开启查询审核的查询工单不可切换数据源</li><li>修复数据源名称无法修改的问题</li><li>优化数据源查询逻辑</li><li>新增审核规则DDLAllowMultiAlter DDL单个工单允许多alter语句提交</li><li>修复流程编辑后新建流程将老流程替换的问题</li></ul><h2 id="_2022-06-02-yearning-3-0-0-ga" tabindex="-1"><a class="header-anchor" href="#_2022-06-02-yearning-3-0-0-ga"><span>2022-06-02 Yearning 3.0.0-GA</span></a></h2><p><strong>设计</strong></p><ol><li>前端页面重新绘制。采用vite+vue3.2开发模式。全局页面默认采用暗黑主题,支持主题切换(可在个人详情处更换配色方案)。</li><li>统一布局及设计语言。</li><li>优化工单申请布局，采用卡片布局并支持全文搜索。</li><li>全新设计的审核/查询详情页。</li></ol><p><strong>审核引擎</strong></p><ol><li>全新重构的审核引擎。新增hit cache 大幅提高批量SQL审核的执行效率。</li><li>优化相关代码减少重复逻辑。</li><li>支持gh/osc等脚本执行</li><li>支持SQL语句上下文关联审核</li><li>升级AST语法树为最新版本</li></ol><p><strong>查询</strong></p><ol><li>全新的查询界面,支持快捷键调出剪贴板，支持库/表搜索</li><li>右键表名可直接查询表数据</li><li>编辑框支持选中执行,支持多条同时执行,支持快捷键执行</li><li>导出文件格式更改为xls</li><li>查询连接改用websocket(再也不存在SQL执行时间大于http超时时间从而永远查不出来的尴尬)</li><li>查询数据采用msgpack格式大幅压缩数据大小</li><li>查询表格支持resize功能可进行宽度拖拽</li><li>自动联想关联至字段级别</li><li>大幅优化脱敏查询性能</li><li>优化查询工单超过查询时限后状态未及时更新的问题 12.优化脱敏逻辑，基于数据源而不是基于全局</li><li>新增查询历史记录,可一键复制当前查询期内之前执行的SQL语句</li></ol><p><strong>审核</strong></p><ol><li>用户不再需要选择上级审核人,由系统直接发送给流程节点的审核人，如该节点存在多个审核人则该节点的审核人均拥有审核权利但只能有一位审核人进行状态变更</li><li>增加工单提交页面退出/刷新 确认提醒</li><li>SQL工单新增评论功能</li><li>OSC进度不再以百分比显示,而是显示全部执行信息,方便排错</li></ol><p><strong>其他</strong></p><ol><li>优化排除数据库逻辑，基于数据源而不是基于全局</li><li>优化流程，实现与环境分离,流程可绑定在1个或多个数据源中</li><li>优化定时执行，等待时间超过mysql最大连接超时时间，在真正执行前才初始化</li><li>新增用户水印功能</li><li>新增数据源负责人,该负责人将会作为查询审核人</li><li>新增LDAP测试用户选项，优化LDAP测试结果逻辑</li><li>新增LDAP用户属性映射功能,可将LDAP对应的字段数据映射进Yearning指定的用户字段中。实现LDAP用户登录后自动更新真实姓名,部门,邮箱等用户信息</li><li>新增debounce防抖机制,优化工单提交,检测,登录动作，避免快速点击时多次提交的问题</li></ol><h4 id="_2-3-5版本更新至3-0" tabindex="-1"><a class="header-anchor" href="#_2-3-5版本更新至3-0"><span>2.3.5版本更新至3.0</span></a></h4><p><strong>当前RC版本仅支持2.3.5版本更新迁移</strong></p><p>1.备份原Yearning数据库</p><p>2.执行Yearning目录下 <strong>migrate</strong> 二进制文件。请注意 必须在<strong>Yearning</strong>启动之前执行！！</p><p>3.正常启动Yearning</p><p><strong>由于流程,排除数据库,脱敏逻辑更改为基于数据源，请在更新后在数据源处修改配置</strong></p><h2 id="_2022-05-27-yearning-3-0-0-rc13" tabindex="-1"><a class="header-anchor" href="#_2022-05-27-yearning-3-0-0-rc13"><span>2022-05-27 Yearning 3.0.0-RC13</span></a></h2><ul><li>修复高并发下SQL回滚panic的问题</li><li>修复迁移工具导致用户权限组为空时用户权限异常的问题</li><li>修复秘钥不正确导致的报错问题</li><li>修复审核及工单检测时编辑器可以选中语句测试的问题</li><li>审核页面添加刷新按钮</li><li>修复工单提交form校验错误的问题</li><li>优化card-header 样式</li></ul><h2 id="_2022-05-20-yearning-3-0-0-rc12" tabindex="-1"><a class="header-anchor" href="#_2022-05-20-yearning-3-0-0-rc12"><span>2022-05-20 Yearning 3.0.0-RC12</span></a></h2><ul><li>修复启动参数命令提示错误的问题 ( —config 提示为-config)</li><li>修复登录页用户注册弹出框不会在注册后关闭的问题</li><li>修复ddl语句默认值空字符串，不能通过校验检查</li><li>修复varchar类型字段长度检测基于字节长度的问题</li><li>修复DML/DDL 影响行数，不生效的问题</li><li>修复SQL语句在不经检测依然可以审核同意的问题</li><li>修复SQL检测后更改数据提交按钮没有禁用的问题</li><li>修复查询空闲等待时间过长导致连接异常中断的问题</li></ul><h2 id="_2022-05-11-yearning-3-0-0-rc11" tabindex="-1"><a class="header-anchor" href="#_2022-05-11-yearning-3-0-0-rc11"><span>2022-05-11 Yearning 3.0.0-RC11</span></a></h2><ul><li>优化普通主题显示效果</li><li>修复建表必须拥有字段审核规则异常的问题</li><li>修复退出后仍可通过后退操作进入系统的问题</li><li>修复迁移工具panic问题</li></ul><h2 id="_2022-05-09-yearning-3-0-0-rc10" tabindex="-1"><a class="header-anchor" href="#_2022-05-09-yearning-3-0-0-rc10"><span>2022-05-09 Yearning 3.0.0-RC10</span></a></h2><ul><li>新增DDL审核alter语句merge功能</li><li>新增工单申请处选择框搜索功能</li><li>新增主题更换功能 -&gt; 顶部Header右侧 个人设置中</li><li>修复查询工单被审核人提前结束后，使用者无法返回查询入口的问题</li></ul><h2 id="_2022-05-07-yearning-3-0-0-rc9" tabindex="-1"><a class="header-anchor" href="#_2022-05-07-yearning-3-0-0-rc9"><span>2022-05-07 Yearning 3.0.0-RC9</span></a></h2><ul><li>修复SQL美化后多出空格导致执行失败的问题</li><li>优化相关按钮文案</li><li>修复重新提交及回滚语句提交按钮显示异常的问题</li><li>数据源测试连接新增loading</li></ul><h2 id="_2022-05-06-yearning-3-0-0-rc8" tabindex="-1"><a class="header-anchor" href="#_2022-05-06-yearning-3-0-0-rc8"><span>2022-05-06 Yearning 3.0.0-RC8</span></a></h2><ul><li>修复删除数据源文案提示错误</li><li>新增工单同意确认提示框</li><li>修复工单中SQL语句为空点击执行导致程序崩溃的问题</li><li>修复迁移脚本未对查询数据源数据处理的问题</li><li>新增LDAP测试用户选项，优化LDAP测试结果逻辑</li><li>新增LDAP用户属性映射功能,可将LDAP对应的字段数据映射进Yearning指定的用户字段中。实现LDAP用户登录后自动更新真实姓名,部门,邮箱等用户信息</li><li>新增查询历史记录,可一键复制当前查询期内之前执行的SQL语句</li><li>新增数据源负责人,该负责人将会作为查询审核人</li><li>更换登录背景视频,防止眩晕</li><li>新增debounce防抖机制,优化工单提交,检测,登录动作，避免快速点击时多次提交的问题</li></ul><p>Yearning采用自动表结构同步 无需手动更新表结构。只需<strong>停止原服务并替换安装包后重新启动</strong>即可</p><blockquote><p>在一些特殊的升级情况中(破坏性变更)需要手动进行数据同步操作.如在版本更新公告中并无提示破坏性升级则无视以下命令!</p></blockquote><div class="language-shell line-numbers-mode" data-ext="shell" data-title="shell"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">./Yearning</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> migrate</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><div class="hint-container warning"><p class="hint-container-title">注意</p><h4 id="_2-3-5版本更新至3-0-0" tabindex="-1"><a class="header-anchor" href="#_2-3-5版本更新至3-0-0"><span>2.3.5版本更新至3.0.0</span></a></h4><p><strong>当前RC版本仅支持2.3.5版本更新迁移</strong></p><p>1.备份原Yearning数据库</p><p>2.执行Yearning目录下 <strong>./migrate</strong> 二进制文件。请注意 必须在<strong>Yearning</strong>启动之前执行！！</p><p>3.正常启动Yearning</p></div><div class="hint-container caution"><p class="hint-container-title">警告</p><p>由于在一些新版本中会增加一些新的变更，请在更新后关闭Yearning页面重新登录后进行使用。 由于流程,排除数据库,脱敏逻辑更改为基于数据源，请在更新后在数据源处修改配置。</p></div></div></main><footer class="vp-doc-footer" data-v-66c1850e data-v-6d5ead8f><!--[--><!--]--><!----><div class="contributors" data-v-6d5ead8f><span class="contributors-label" data-v-6d5ead8f>贡献者: </span><span class="contributors-info" data-v-6d5ead8f><!--[--><!--[--><span class="contributor" data-v-6d5ead8f>Henry</span><!--[-->, <!--]--><!--]--><!--[--><span class="contributor" data-v-6d5ead8f>HenryYee</span><!----><!--]--><!--]--></span></div><!----></footer><div id="comment" class="giscus-wrapper input-top vp-comment" vp-comment style="display:block;" data-v-66c1850e><div class="loading-icon-wrapper" style="display:flex;align-items:center;justify-content:center;height:96px"><svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" preserveAspectRatio="xMidYMid" viewBox="25 25 50 50"><animateTransform attributeName="transform" type="rotate" dur="2s" keyTimes="0;1" repeatCount="indefinite" values="0;360"></animateTransform><circle cx="50" cy="50" r="20" fill="none" stroke="currentColor" stroke-width="4" stroke-linecap="round"><animate attributeName="stroke-dasharray" dur="1.5s" keyTimes="0;0.5;1" repeatCount="indefinite" values="1,200;90,200;1,200"></animate><animate attributeName="stroke-dashoffset" dur="1.5s" keyTimes="0;0.5;1" repeatCount="indefinite" values="0;-35px;-125px"></animate></circle></svg></div></div><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><!--]--><button style="display:none;" type="button" class="vp-back-to-top" aria-label="back to top" data-v-4c24f48c data-v-c38111a8><span class="percent" data-allow-mismatch data-v-c38111a8>0%</span><span class="show icon vpi-back-to-top" data-v-c38111a8></span><svg aria-hidden="true" data-v-c38111a8><circle cx="50%" cy="50%" data-allow-mismatch style="stroke-dasharray:calc(0% - 12.566370614359172px) calc(314.1592653589793% - 12.566370614359172px);" data-v-c38111a8></circle></svg></button><footer class="vp-footer" vp-footer data-v-4c24f48c data-v-db40eb2d><!--[--><div class="container" data-v-db40eb2d><!----><p class="copyright" data-v-db40eb2d>AGPL-3.0 Licensed | Copyright © 2017-present Henry Yee</p></div><!--]--></footer><!--[--><!--]--><!--]--></div><!----><!--]--><!--[--><!--]--><!--]--></div><script type="module" src="/assets/app-B_p-YCDi.js" defer></script></body></html>