{"content":"<h3 id=\"注意\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#注意\"><span>注意</span></a></h3>\n<p>Yearning安装包内已含有Dockerfile文件,可直接进行build打包成镜像</p>\n<p>容器启动时可通过环境变量的方式传入数据库地址以及秘钥。</p>\n<p>单独使用docker时请先创建数据库并设置字符集为<strong>utf8mb4</strong></p>\n<p>如下所示</p>\n<div class=\"language-bash line-numbers-mode\" data-ext=\"bash\" data-title=\"bash\"><button class=\"copy\" title=\"Copy code\" data-copied=\"Copied\"></button><pre class=\"shiki shiki-themes vitesse-light vitesse-dark vp-code\" v-pre=\"\"><code><span class=\"line\"><span style=\"--shiki-light:#A0ADA0;--shiki-dark:#758575DD\">## 初始化数据库</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#59873A;--shiki-dark:#80A665\">docker</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\"> run</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> --rm</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> -it</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> -p8000:8000</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> -e</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\"> SECRET_KEY=</span><span style=\"--shiki-light:#B07D48;--shiki-dark:#BD976A\">$SECRET_KEY</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> -e</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\"> MYSQL_USER=</span><span style=\"--shiki-light:#B07D48;--shiki-dark:#BD976A\">$MYSQL_USER</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> -e</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\"> MYSQL_ADDR=</span><span style=\"--shiki-light:#B07D48;--shiki-dark:#BD976A\">$MYSQL_ADDR</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> -e</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\"> MYSQL_PASSWORD=</span><span style=\"--shiki-light:#B07D48;--shiki-dark:#BD976A\">$MYSQL_PASSWORD</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> -e</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\"> MYSQL_DB=</span><span style=\"--shiki-light:#B07D48;--shiki-dark:#BD976A\">$Yearning_DB</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> -e</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\"> Y_LANG=zh_CN</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\"> yeelabs/yearning</span><span style=\"--shiki-light:#B5695977;--shiki-dark:#C98A7D77\"> \"</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">/opt/Yearning install</span><span style=\"--shiki-light:#B5695977;--shiki-dark:#C98A7D77\">\"</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0ADA0;--shiki-dark:#758575DD\">## 启动 Yearning</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#59873A;--shiki-dark:#80A665\">docker</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\"> run</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> -d</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> -it</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> -p8000:8000</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> -e</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\"> SECRET_KEY=</span><span style=\"--shiki-light:#B07D48;--shiki-dark:#BD976A\">$SECRET_KEY</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> -e</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\"> MYSQL_USER=</span><span style=\"--shiki-light:#B07D48;--shiki-dark:#BD976A\">$MYSQL_USER</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> -e</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\"> MYSQL_ADDR=</span><span style=\"--shiki-light:#B07D48;--shiki-dark:#BD976A\">$MYSQL_ADDR</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> -e</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\"> MYSQL_PASSWORD=</span><span style=\"--shiki-light:#B07D48;--shiki-dark:#BD976A\">$MYSQL_PASSWORD</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> -e</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\"> MYSQL_DB=</span><span style=\"--shiki-light:#B07D48;--shiki-dark:#BD976A\">$Yearning_DB</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> -e</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\"> Y_LANG=zh_CN</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\"> yeelabs/yearning</span></span></code></pre>\n\n<div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div><h2 id=\"docker-compose-推荐安装\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#docker-compose-推荐安装\"><span>Docker-compose(推荐安装)</span></a></h2>\n<p>安装包/源码仓库内docker目录下执行 <code v-pre>docker-compose up -d</code> 即可</p>\n","env":{"base":"/","filePath":"/Users/henryyee/PersonalProjects/yearning_guide/docs/notes/usage/docker.md","filePathRelative":"notes/usage/docker.md","frontmatter":{"title":"Docker","createTime":"2024/11/04 15:34:40","permalink":"/usage/lphvwwj3/"},"sfcBlocks":{"template":{"type":"template","content":"<template><h3 id=\"注意\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#注意\"><span>注意</span></a></h3>\n<p>Yearning安装包内已含有Dockerfile文件,可直接进行build打包成镜像</p>\n<p>容器启动时可通过环境变量的方式传入数据库地址以及秘钥。</p>\n<p>单独使用docker时请先创建数据库并设置字符集为<strong>utf8mb4</strong></p>\n<p>如下所示</p>\n<div class=\"language-bash line-numbers-mode\" data-ext=\"bash\" data-title=\"bash\"><button class=\"copy\" title=\"Copy code\" data-copied=\"Copied\"></button><pre class=\"shiki shiki-themes vitesse-light vitesse-dark vp-code\" v-pre=\"\"><code><span class=\"line\"><span style=\"--shiki-light:#A0ADA0;--shiki-dark:#758575DD\">## 初始化数据库</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#59873A;--shiki-dark:#80A665\">docker</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\"> run</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> --rm</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> -it</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> -p8000:8000</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> -e</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\"> SECRET_KEY=</span><span style=\"--shiki-light:#B07D48;--shiki-dark:#BD976A\">$SECRET_KEY</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> -e</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\"> MYSQL_USER=</span><span style=\"--shiki-light:#B07D48;--shiki-dark:#BD976A\">$MYSQL_USER</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> -e</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\"> MYSQL_ADDR=</span><span style=\"--shiki-light:#B07D48;--shiki-dark:#BD976A\">$MYSQL_ADDR</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> -e</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\"> MYSQL_PASSWORD=</span><span style=\"--shiki-light:#B07D48;--shiki-dark:#BD976A\">$MYSQL_PASSWORD</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> -e</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\"> MYSQL_DB=</span><span style=\"--shiki-light:#B07D48;--shiki-dark:#BD976A\">$Yearning_DB</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> -e</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\"> Y_LANG=zh_CN</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\"> yeelabs/yearning</span><span style=\"--shiki-light:#B5695977;--shiki-dark:#C98A7D77\"> \"</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">/opt/Yearning install</span><span style=\"--shiki-light:#B5695977;--shiki-dark:#C98A7D77\">\"</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0ADA0;--shiki-dark:#758575DD\">## 启动 Yearning</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#59873A;--shiki-dark:#80A665\">docker</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\"> run</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> -d</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> -it</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> -p8000:8000</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> -e</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\"> SECRET_KEY=</span><span style=\"--shiki-light:#B07D48;--shiki-dark:#BD976A\">$SECRET_KEY</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> -e</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\"> MYSQL_USER=</span><span style=\"--shiki-light:#B07D48;--shiki-dark:#BD976A\">$MYSQL_USER</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> -e</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\"> MYSQL_ADDR=</span><span style=\"--shiki-light:#B07D48;--shiki-dark:#BD976A\">$MYSQL_ADDR</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> -e</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\"> MYSQL_PASSWORD=</span><span style=\"--shiki-light:#B07D48;--shiki-dark:#BD976A\">$MYSQL_PASSWORD</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> -e</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\"> MYSQL_DB=</span><span style=\"--shiki-light:#B07D48;--shiki-dark:#BD976A\">$Yearning_DB</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> -e</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\"> Y_LANG=zh_CN</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\"> yeelabs/yearning</span></span></code></pre>\n\n<div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div><h2 id=\"docker-compose-推荐安装\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#docker-compose-推荐安装\"><span>Docker-compose(推荐安装)</span></a></h2>\n<p>安装包/源码仓库内docker目录下执行 <code v-pre>docker-compose up -d</code> 即可</p>\n</template>","contentStripped":"<h3 id=\"注意\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#注意\"><span>注意</span></a></h3>\n<p>Yearning安装包内已含有Dockerfile文件,可直接进行build打包成镜像</p>\n<p>容器启动时可通过环境变量的方式传入数据库地址以及秘钥。</p>\n<p>单独使用docker时请先创建数据库并设置字符集为<strong>utf8mb4</strong></p>\n<p>如下所示</p>\n<div class=\"language-bash line-numbers-mode\" data-ext=\"bash\" data-title=\"bash\"><button class=\"copy\" title=\"Copy code\" data-copied=\"Copied\"></button><pre class=\"shiki shiki-themes vitesse-light vitesse-dark vp-code\" v-pre=\"\"><code><span class=\"line\"><span style=\"--shiki-light:#A0ADA0;--shiki-dark:#758575DD\">## 初始化数据库</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#59873A;--shiki-dark:#80A665\">docker</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\"> run</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> --rm</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> -it</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> -p8000:8000</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> -e</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\"> SECRET_KEY=</span><span style=\"--shiki-light:#B07D48;--shiki-dark:#BD976A\">$SECRET_KEY</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> -e</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\"> MYSQL_USER=</span><span style=\"--shiki-light:#B07D48;--shiki-dark:#BD976A\">$MYSQL_USER</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> -e</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\"> MYSQL_ADDR=</span><span style=\"--shiki-light:#B07D48;--shiki-dark:#BD976A\">$MYSQL_ADDR</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> -e</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\"> MYSQL_PASSWORD=</span><span style=\"--shiki-light:#B07D48;--shiki-dark:#BD976A\">$MYSQL_PASSWORD</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> -e</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\"> MYSQL_DB=</span><span style=\"--shiki-light:#B07D48;--shiki-dark:#BD976A\">$Yearning_DB</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> -e</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\"> Y_LANG=zh_CN</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\"> yeelabs/yearning</span><span style=\"--shiki-light:#B5695977;--shiki-dark:#C98A7D77\"> \"</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">/opt/Yearning install</span><span style=\"--shiki-light:#B5695977;--shiki-dark:#C98A7D77\">\"</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0ADA0;--shiki-dark:#758575DD\">## 启动 Yearning</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#59873A;--shiki-dark:#80A665\">docker</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\"> run</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> -d</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> -it</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> -p8000:8000</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> -e</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\"> SECRET_KEY=</span><span style=\"--shiki-light:#B07D48;--shiki-dark:#BD976A\">$SECRET_KEY</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> -e</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\"> MYSQL_USER=</span><span style=\"--shiki-light:#B07D48;--shiki-dark:#BD976A\">$MYSQL_USER</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> -e</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\"> MYSQL_ADDR=</span><span style=\"--shiki-light:#B07D48;--shiki-dark:#BD976A\">$MYSQL_ADDR</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> -e</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\"> MYSQL_PASSWORD=</span><span style=\"--shiki-light:#B07D48;--shiki-dark:#BD976A\">$MYSQL_PASSWORD</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> -e</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\"> MYSQL_DB=</span><span style=\"--shiki-light:#B07D48;--shiki-dark:#BD976A\">$Yearning_DB</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> -e</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\"> Y_LANG=zh_CN</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\"> yeelabs/yearning</span></span></code></pre>\n\n<div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div><h2 id=\"docker-compose-推荐安装\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#docker-compose-推荐安装\"><span>Docker-compose(推荐安装)</span></a></h2>\n<p>安装包/源码仓库内docker目录下执行 <code v-pre>docker-compose up -d</code> 即可</p>\n","tagOpen":"<template>","tagClose":"</template>"},"script":null,"scriptSetup":null,"scripts":[],"styles":[],"customBlocks":[]},"content":"### 注意\n\nYearning安装包内已含有Dockerfile文件,可直接进行build打包成镜像\n\n容器启动时可通过环境变量的方式传入数据库地址以及秘钥。\n\n单独使用docker时请先创建数据库并设置字符集为**utf8mb4**\n\n如下所示\n\n```bash\n## 初始化数据库\ndocker run --rm -it -p8000:8000 -e SECRET_KEY=$SECRET_KEY -e MYSQL_USER=$MYSQL_USER -e MYSQL_ADDR=$MYSQL_ADDR -e MYSQL_PASSWORD=$MYSQL_PASSWORD -e MYSQL_DB=$Yearning_DB -e Y_LANG=zh_CN yeelabs/yearning \"/opt/Yearning install\"\n\n## 启动 Yearning\ndocker run -d -it -p8000:8000 -e SECRET_KEY=$SECRET_KEY -e MYSQL_USER=$MYSQL_USER -e MYSQL_ADDR=$MYSQL_ADDR -e MYSQL_PASSWORD=$MYSQL_PASSWORD -e MYSQL_DB=$Yearning_DB -e Y_LANG=zh_CN yeelabs/yearning\n```\n## Docker-compose(推荐安装)\n安装包/源码仓库内docker目录下执行 ``docker-compose up -d`` 即可","excerpt":"","tasklists":0,"title":"","headers":[{"level":3,"title":"注意","slug":"注意","link":"#注意","children":[]},{"level":2,"title":"Docker-compose(推荐安装)","slug":"docker-compose-推荐安装","link":"#docker-compose-推荐安装","children":[]}]}}
