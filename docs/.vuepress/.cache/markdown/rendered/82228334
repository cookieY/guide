{"content":"<div class=\"hint-container warning\">\n<p class=\"hint-container-title\">Warning</p>\n<p>Regarding OSCExpr audit rule considerations:</p>\n<p>In versions of Yearning prior to 3.0.0, pt-osc execution instructions were standardized through forced pt-osc parameter names. This created several issues:</p>\n<ol>\n<li>The inability to extend parameters</li>\n<li>Difficulty in understanding the relationship between parameters in Yearning and pt-osc</li>\n<li>Lack of support for migration tools other than pt-osc</li>\n</ol>\n</div>\n<p>Due to the above reasons, Yearning 3.0.0 introduces the OSCExpr parameter, replacing the previous pt-osc parameter rules.</p>\n<p>By introducing general variables, the aim is to cater to all scenarios for DDL migration tool requirements. The added general variables are as follows:</p>\n<div class=\"language-shell line-numbers-mode\" data-ext=\"shell\" data-title=\"shell\"><button class=\"copy\" title=\"Copy code\" data-copied=\"Copied\"></button><pre class=\"shiki shiki-themes vitesse-light vitesse-dark vp-code\" v-pre=\"\"><code><span class=\"line\"><span style=\"--shiki-light:#59873A;--shiki-dark:#80A665\">1.</span><span style=\"--shiki-light:#B07D48;--shiki-dark:#BD976A\">  $SQL</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">       Corresponds</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\"> to</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\"> the</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\"> execution</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\"> order</span><span style=\"--shiki-light:#B5695977;--shiki-dark:#C98A7D77\">'</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">s SQL statement  </span></span>\n<span class=\"line\"><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">2.  $ADDR      Corresponds to the execution order</span><span style=\"--shiki-light:#B5695977;--shiki-dark:#C98A7D77\">'</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">s</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\"> data</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\"> source</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\"> address</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#59873A;--shiki-dark:#80A665\">3.</span><span style=\"--shiki-light:#B07D48;--shiki-dark:#BD976A\">  $PORT</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">      Corresponds</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\"> to</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\"> the</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\"> execution</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\"> order</span><span style=\"--shiki-light:#B5695977;--shiki-dark:#C98A7D77\">'</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">s data source port</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">4.  $USER      Corresponds to the execution order</span><span style=\"--shiki-light:#B5695977;--shiki-dark:#C98A7D77\">'</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">s</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\"> data</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\"> source</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\"> user</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#59873A;--shiki-dark:#80A665\">5.</span><span style=\"--shiki-light:#B07D48;--shiki-dark:#BD976A\">  $PASSWORD</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">  Corresponds</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\"> to</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\"> the</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\"> execution</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\"> order</span><span style=\"--shiki-light:#B5695977;--shiki-dark:#C98A7D77\">'</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">s data source password</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">6.  $SCHEMA    Corresponds to the execution order</span><span style=\"--shiki-light:#B5695977;--shiki-dark:#C98A7D77\">'</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">s</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\"> database</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\"> name</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">  </span></span>\n<span class=\"line\"><span style=\"--shiki-light:#59873A;--shiki-dark:#80A665\">7.</span><span style=\"--shiki-light:#B07D48;--shiki-dark:#BD976A\">  $TABLE</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">     Corresponds</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\"> to</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\"> the</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\"> execution</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\"> order</span><span style=\"--shiki-light:#B5695977;--shiki-dark:#C98A7D77\">'</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">s table name</span></span></code></pre>\n\n<div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div><p>After the changes, if you need to invoke pt-osc commands in DDL statements, you can write it as follows:</p>\n<div class=\"language-shell line-numbers-mode\" data-ext=\"shell\" data-title=\"shell\"><button class=\"copy\" title=\"Copy code\" data-copied=\"Copied\"></button><pre class=\"shiki shiki-themes vitesse-light vitesse-dark vp-code\" v-pre=\"\"><code><span class=\"line\"><span style=\"--shiki-light:#59873A;--shiki-dark:#80A665\">pt-online-schema-change</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> --alter</span><span style=\"--shiki-light:#B07D48;--shiki-dark:#BD976A\"> $SQL</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> --user=</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">$USER</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> --password=</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">$PASSWORD</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> --host=</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">$ADDR</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> --port=</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">$PORT</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\">,D=</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">$SCHEMA</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\">,t=</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">$TABLE</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> --execute</span></span></code></pre>\n\n<div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0\"><div class=\"line-number\"></div></div></div><p>The system will automatically populate the related data from the corresponding order into the associated variables, eliminating the need for manual input.</p>\n<p>If you wish to use other migration tools, you simply need to substitute the relevant general variables into the appropriate command (for instance, gh-ost).</p>\n<p><strong>To view the execution results, click the OSC Progress tab in the order details of the execution order.</strong></p>\n","env":{"base":"/","filePath":"/root/guide/docs/notes/usage/configure/pt.md","filePathRelative":"notes/usage/configure/pt.md","frontmatter":{"title":"PT-OSC/GH-OST","createTime":"2024/11/04 15:54:38","permalink":"/usage/cgd82cua/"},"sfcBlocks":{"template":{"type":"template","content":"<template><div class=\"hint-container warning\">\n<p class=\"hint-container-title\">Warning</p>\n<p>Regarding OSCExpr audit rule considerations:</p>\n<p>In versions of Yearning prior to 3.0.0, pt-osc execution instructions were standardized through forced pt-osc parameter names. This created several issues:</p>\n<ol>\n<li>The inability to extend parameters</li>\n<li>Difficulty in understanding the relationship between parameters in Yearning and pt-osc</li>\n<li>Lack of support for migration tools other than pt-osc</li>\n</ol>\n</div>\n<p>Due to the above reasons, Yearning 3.0.0 introduces the OSCExpr parameter, replacing the previous pt-osc parameter rules.</p>\n<p>By introducing general variables, the aim is to cater to all scenarios for DDL migration tool requirements. The added general variables are as follows:</p>\n<div class=\"language-shell line-numbers-mode\" data-ext=\"shell\" data-title=\"shell\"><button class=\"copy\" title=\"Copy code\" data-copied=\"Copied\"></button><pre class=\"shiki shiki-themes vitesse-light vitesse-dark vp-code\" v-pre=\"\"><code><span class=\"line\"><span style=\"--shiki-light:#59873A;--shiki-dark:#80A665\">1.</span><span style=\"--shiki-light:#B07D48;--shiki-dark:#BD976A\">  $SQL</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">       Corresponds</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\"> to</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\"> the</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\"> execution</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\"> order</span><span style=\"--shiki-light:#B5695977;--shiki-dark:#C98A7D77\">'</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">s SQL statement  </span></span>\n<span class=\"line\"><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">2.  $ADDR      Corresponds to the execution order</span><span style=\"--shiki-light:#B5695977;--shiki-dark:#C98A7D77\">'</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">s</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\"> data</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\"> source</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\"> address</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#59873A;--shiki-dark:#80A665\">3.</span><span style=\"--shiki-light:#B07D48;--shiki-dark:#BD976A\">  $PORT</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">      Corresponds</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\"> to</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\"> the</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\"> execution</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\"> order</span><span style=\"--shiki-light:#B5695977;--shiki-dark:#C98A7D77\">'</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">s data source port</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">4.  $USER      Corresponds to the execution order</span><span style=\"--shiki-light:#B5695977;--shiki-dark:#C98A7D77\">'</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">s</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\"> data</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\"> source</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\"> user</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#59873A;--shiki-dark:#80A665\">5.</span><span style=\"--shiki-light:#B07D48;--shiki-dark:#BD976A\">  $PASSWORD</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">  Corresponds</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\"> to</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\"> the</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\"> execution</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\"> order</span><span style=\"--shiki-light:#B5695977;--shiki-dark:#C98A7D77\">'</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">s data source password</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">6.  $SCHEMA    Corresponds to the execution order</span><span style=\"--shiki-light:#B5695977;--shiki-dark:#C98A7D77\">'</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">s</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\"> database</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\"> name</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">  </span></span>\n<span class=\"line\"><span style=\"--shiki-light:#59873A;--shiki-dark:#80A665\">7.</span><span style=\"--shiki-light:#B07D48;--shiki-dark:#BD976A\">  $TABLE</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">     Corresponds</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\"> to</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\"> the</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\"> execution</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\"> order</span><span style=\"--shiki-light:#B5695977;--shiki-dark:#C98A7D77\">'</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">s table name</span></span></code></pre>\n\n<div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div><p>After the changes, if you need to invoke pt-osc commands in DDL statements, you can write it as follows:</p>\n<div class=\"language-shell line-numbers-mode\" data-ext=\"shell\" data-title=\"shell\"><button class=\"copy\" title=\"Copy code\" data-copied=\"Copied\"></button><pre class=\"shiki shiki-themes vitesse-light vitesse-dark vp-code\" v-pre=\"\"><code><span class=\"line\"><span style=\"--shiki-light:#59873A;--shiki-dark:#80A665\">pt-online-schema-change</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> --alter</span><span style=\"--shiki-light:#B07D48;--shiki-dark:#BD976A\"> $SQL</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> --user=</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">$USER</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> --password=</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">$PASSWORD</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> --host=</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">$ADDR</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> --port=</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">$PORT</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\">,D=</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">$SCHEMA</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\">,t=</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">$TABLE</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> --execute</span></span></code></pre>\n\n<div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0\"><div class=\"line-number\"></div></div></div><p>The system will automatically populate the related data from the corresponding order into the associated variables, eliminating the need for manual input.</p>\n<p>If you wish to use other migration tools, you simply need to substitute the relevant general variables into the appropriate command (for instance, gh-ost).</p>\n<p><strong>To view the execution results, click the OSC Progress tab in the order details of the execution order.</strong></p>\n</template>","contentStripped":"<div class=\"hint-container warning\">\n<p class=\"hint-container-title\">Warning</p>\n<p>Regarding OSCExpr audit rule considerations:</p>\n<p>In versions of Yearning prior to 3.0.0, pt-osc execution instructions were standardized through forced pt-osc parameter names. This created several issues:</p>\n<ol>\n<li>The inability to extend parameters</li>\n<li>Difficulty in understanding the relationship between parameters in Yearning and pt-osc</li>\n<li>Lack of support for migration tools other than pt-osc</li>\n</ol>\n</div>\n<p>Due to the above reasons, Yearning 3.0.0 introduces the OSCExpr parameter, replacing the previous pt-osc parameter rules.</p>\n<p>By introducing general variables, the aim is to cater to all scenarios for DDL migration tool requirements. The added general variables are as follows:</p>\n<div class=\"language-shell line-numbers-mode\" data-ext=\"shell\" data-title=\"shell\"><button class=\"copy\" title=\"Copy code\" data-copied=\"Copied\"></button><pre class=\"shiki shiki-themes vitesse-light vitesse-dark vp-code\" v-pre=\"\"><code><span class=\"line\"><span style=\"--shiki-light:#59873A;--shiki-dark:#80A665\">1.</span><span style=\"--shiki-light:#B07D48;--shiki-dark:#BD976A\">  $SQL</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">       Corresponds</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\"> to</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\"> the</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\"> execution</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\"> order</span><span style=\"--shiki-light:#B5695977;--shiki-dark:#C98A7D77\">'</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">s SQL statement  </span></span>\n<span class=\"line\"><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">2.  $ADDR      Corresponds to the execution order</span><span style=\"--shiki-light:#B5695977;--shiki-dark:#C98A7D77\">'</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">s</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\"> data</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\"> source</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\"> address</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#59873A;--shiki-dark:#80A665\">3.</span><span style=\"--shiki-light:#B07D48;--shiki-dark:#BD976A\">  $PORT</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">      Corresponds</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\"> to</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\"> the</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\"> execution</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\"> order</span><span style=\"--shiki-light:#B5695977;--shiki-dark:#C98A7D77\">'</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">s data source port</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">4.  $USER      Corresponds to the execution order</span><span style=\"--shiki-light:#B5695977;--shiki-dark:#C98A7D77\">'</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">s</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\"> data</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\"> source</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\"> user</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#59873A;--shiki-dark:#80A665\">5.</span><span style=\"--shiki-light:#B07D48;--shiki-dark:#BD976A\">  $PASSWORD</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">  Corresponds</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\"> to</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\"> the</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\"> execution</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\"> order</span><span style=\"--shiki-light:#B5695977;--shiki-dark:#C98A7D77\">'</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">s data source password</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">6.  $SCHEMA    Corresponds to the execution order</span><span style=\"--shiki-light:#B5695977;--shiki-dark:#C98A7D77\">'</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">s</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\"> database</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\"> name</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">  </span></span>\n<span class=\"line\"><span style=\"--shiki-light:#59873A;--shiki-dark:#80A665\">7.</span><span style=\"--shiki-light:#B07D48;--shiki-dark:#BD976A\">  $TABLE</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">     Corresponds</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\"> to</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\"> the</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\"> execution</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\"> order</span><span style=\"--shiki-light:#B5695977;--shiki-dark:#C98A7D77\">'</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">s table name</span></span></code></pre>\n\n<div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div><p>After the changes, if you need to invoke pt-osc commands in DDL statements, you can write it as follows:</p>\n<div class=\"language-shell line-numbers-mode\" data-ext=\"shell\" data-title=\"shell\"><button class=\"copy\" title=\"Copy code\" data-copied=\"Copied\"></button><pre class=\"shiki shiki-themes vitesse-light vitesse-dark vp-code\" v-pre=\"\"><code><span class=\"line\"><span style=\"--shiki-light:#59873A;--shiki-dark:#80A665\">pt-online-schema-change</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> --alter</span><span style=\"--shiki-light:#B07D48;--shiki-dark:#BD976A\"> $SQL</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> --user=</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">$USER</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> --password=</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">$PASSWORD</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> --host=</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">$ADDR</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> --port=</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">$PORT</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\">,D=</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">$SCHEMA</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\">,t=</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">$TABLE</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> --execute</span></span></code></pre>\n\n<div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0\"><div class=\"line-number\"></div></div></div><p>The system will automatically populate the related data from the corresponding order into the associated variables, eliminating the need for manual input.</p>\n<p>If you wish to use other migration tools, you simply need to substitute the relevant general variables into the appropriate command (for instance, gh-ost).</p>\n<p><strong>To view the execution results, click the OSC Progress tab in the order details of the execution order.</strong></p>\n","tagOpen":"<template>","tagClose":"</template>"},"script":null,"scriptSetup":null,"scripts":[],"styles":[],"customBlocks":[]},"content":"::: warning\nRegarding OSCExpr audit rule considerations:\n\nIn versions of Yearning prior to 3.0.0, pt-osc execution instructions were standardized through forced pt-osc parameter names. This created several issues:\n\n1. The inability to extend parameters\n2. Difficulty in understanding the relationship between parameters in Yearning and pt-osc\n3. Lack of support for migration tools other than pt-osc\n:::\n\nDue to the above reasons, Yearning 3.0.0 introduces the OSCExpr parameter, replacing the previous pt-osc parameter rules.\n\nBy introducing general variables, the aim is to cater to all scenarios for DDL migration tool requirements. The added general variables are as follows:\n\n```shell\n1.  $SQL       Corresponds to the execution order's SQL statement  \n2.  $ADDR      Corresponds to the execution order's data source address\n3.  $PORT      Corresponds to the execution order's data source port\n4.  $USER      Corresponds to the execution order's data source user\n5.  $PASSWORD  Corresponds to the execution order's data source password\n6.  $SCHEMA    Corresponds to the execution order's database name  \n7.  $TABLE     Corresponds to the execution order's table name\n```\n\nAfter the changes, if you need to invoke pt-osc commands in DDL statements, you can write it as follows:\n\n```shell\npt-online-schema-change --alter $SQL --user=$USER --password=$PASSWORD --host=$ADDR --port=$PORT,D=$SCHEMA,t=$TABLE --execute\n```\n\nThe system will automatically populate the related data from the corresponding order into the associated variables, eliminating the need for manual input.\n\nIf you wish to use other migration tools, you simply need to substitute the relevant general variables into the appropriate command (for instance, gh-ost).\n\n**To view the execution results, click the OSC Progress tab in the order details of the execution order.**","excerpt":"","tasklists":0,"title":"","headers":[]}}
